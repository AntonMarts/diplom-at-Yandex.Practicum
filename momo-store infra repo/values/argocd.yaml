configs:
  repositories:
    infra:
      password: -hdeDpFsGtSnbxTwYrbw
      project: default
      type: git
      url: https://gitlab.praktikum-services.ru/a.martsinovskiy/momo-store-infra.git
      username: gitlab-ci-token
server:
  additionalApplications:
    - name: apps
      namespace: argocd
      project: default
      source:
        # Указываем путь к values, обратите внимание на то, что он относительный
        helm:
          valueFiles:
            - ../../values/apps.yaml
        # Путь до чарта
        path: charts/apps
        # Репозиторий
        repoURL: https://gitlab.praktikum-services.ru/a.martsinovskiy/momo-store-infra.git
      destination:
        # Устанавливаем все приложения в тот же неймспейс argocd
        namespace: argocd
        server: https://kubernetes.default.svc
      syncPolicy:
        automated: { }
  # Меняем тип сервиса на NodePort
  service:
      nodePortHttp: 30082
      type: NodePort
  # Включаем ингресс, прописываем хост, подсеть, адрес и группу
  ingress:
      annotations:
          ingress.alb.yc.io/subnets: e9b35pagd2ttmed63moa
          ingress.alb.yc.io/external-ipv4-address: 158.160.57.22
          ingress.alb.yc.io/group-name: infra-alb
          ingress.alb.yc.io/security-groups: enphc91iftpta9nne60m,enpou4e3i7f619apmuv9
          # связь между балансировщиком и argocd – также через https
          ingress.alb.yc.io/transport-security: tls
      enabled: true
      # указываем чтобы использовался https
      https: true
      tls:
          - hosts:
              - argocd.infra.martsinovskiy.ru
            secretName: yc-certmgr-cert-id-fpqspl3civ9a76nsou7m
      hosts:
          - argocd.infra.martsinovskiy.ru