# Momo Store Infra

## Инфраструктура для приложения магазина пельменной

Инфраструктура приложения построена по принципам GitOps: 

Построен кластер Kubernetes в Яндекс Облаке
Кластер описан файлами состояния terraform, данные состояния копируются в S3 хранилище в облаке. Данные файлы расположены в папке k8s cluster.

Запущен автоматический деплой при помощи ArgoCD. Постороена синхронизация на изменение ропозитория инфраструктуры. Доступ к ArgoCD GUI настроен по ссылке: https://argocd.infra.martsinovskiy.ru

Реализован паттерн GitOps - Aps of Aps на основе ArgoCD:

В папке charts расположены все Helm chart приложения и инструментов (Yandex ALB, Grafana, Prometheus, ArgoCD).
В папке values для каждого чарта из папки charts расположены файлы с значениями переменных.
При появлении изменений в репозитории запускается helm upgrade чартов с изменениями.

Сбор метрик приложений и состояния кластера kubernetes реализован при помощи Prometheus. Визуализация данных метрик настроена в дашбордах Grafana.

Доступ к дашбордам Grafana настроен по ссылке: https://grafana.infra.martsinovskiy.ru

Настроено копирование чартов приложеения в Nexus репозиторий
Docker img приложений скачиваются из репозитория GitLab

запущен ALB load balancer в кластере. Настроен Ingress с перенаправлением трафика на домен martsinovskiy.ru
Выпущен сертификат на Let's Encrypt.

Доступ к приложению настроен по ссылке https://momo-store.martsinovskiy.ru

